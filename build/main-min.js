function removeDone(){for(let t=TaskArray.length-1;t>=0;t--)1==TaskArray[t].status&&(TaskArray.splice(t,1),saveTasks(),renderTaskList())}function onSubmit(t){t.preventDefault();let e=document.getElementById("task-input").value;if(""!=e){let a=new Task(e);TaskArray.push(a),saveTasks(),t.target.reset(),renderTaskList()}}function createNewTask(t){let e=document.createElement("LI");e.setAttribute("id",t.id),e.setAttribute("data-status",t.status);let a=document.createTextNode(t.name);e.appendChild(a),document.getElementById("task-list").appendChild(e)}function clearTaskList(){document.getElementById("task-list").innerHTML=""}function renderTaskList(){let t=TaskArray.length;clearTaskList();for(let e=0;e<t;e++)createNewTask(TaskArray[e]);toggleShowButton()}function changeTaskStatus(t){console.log(t.target);let e=t.target.id,a=TaskArray.length;for(let t=0;t<a;t++){let a=TaskArray[t];if(a.id==e){switch(a.status){case 0:a.status=1;break;case 1:a.status=0}saveTasks(),renderTaskList()}}}function saveTasks(){if(window.localStorage){let t=JSON.stringify(TaskArray);window.localStorage.setItem("tasks",t)}}function loadTasks(){if(window.localStorage){let t=window.localStorage.getItem("tasks");JSON.parse(t)&&(TaskArray=JSON.parse(t),renderTaskList())}}function toggleShowButton(){let t=!1,e=TaskArray.length;for(let a=0;a<e;a++)1==TaskArray[a].status&&(t=!0);1==t?document.getElementById("remove").setAttribute("class","show"):document.getElementById("remove").removeAttribute("class")}class Task{constructor(t){return this.name=t,this.status=0,this.id=(new Date).getTime(),this}}var TaskArray=[];window.addEventListener("load",function(){loadTasks(),document.getElementById("task-form").addEventListener("submit",onSubmit),document.getElementById("task-list").addEventListener("click",changeTaskStatus),document.getElementById("remove").addEventListener("click",removeDone)});